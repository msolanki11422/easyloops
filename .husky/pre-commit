# Allow skipping hooks with SKIP_HOOKS environment variable
if [ "$SKIP_HOOKS" = "1" ]; then
  echo "âš ï¸ Skipping pre-commit hooks"
  exit 0
fi

# Run lint-staged to check code quality of staged files
echo "ğŸ” Running lint-staged..."
npx lint-staged || { echo "âŒ lint-staged failed"; exit 1; }

# Run type checking across the project
echo "ğŸ”„ Running type checking..."
npm run typecheck || { echo "âŒ Type checking failed"; exit 1; }

# Run unit tests
echo "ğŸ§ª Running tests..."
npm test || { echo "âŒ Tests failed"; exit 1; }

echo "âœ… Pre-commit checks passed!"
